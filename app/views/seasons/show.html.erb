<% if can? :update, @season %>
  <%= link_to "Edit Season", edit_season_path(@season) %>
<% end %>
<% if can? :create, @game %>
  <%#= link_to "Add Game", new_season_game_path(season: @season.games.build) %>
<% end %>
<h1>Moonrakers Summer <%= @season.year %> Season</h1>
<p>
  <%= @season.description %>
</p>
<table border="2">
  <thead>
    <tr>
      <th>Date</th>
      <th>Opponent</th>
      <th>Moonrakers Score</th>
      <th>Opponent Score</th>
    </tr>
  </thead>
  <tbody>
    <% @games.each do |game| %>
    <tr>
        <th><%= game.format_date(game.date)%></th>
        <th><%= link_to game.opponent, season_game_path(season_id: game.season_id, game: game.id) %></th>
        <th><%= game.home_score %></th>
        <th><%= game.opponent_score %></th>
      <% end %>
    </tr>
  </tbody>
</table>

<h2>Roster</h2>
<table border="2">
  <thead class="pitchers">
    <tr>
      <th>#</th>
      <th>Pitchers</th>
      <th>Bats</th>
      <th>Throws</th>
      <th>Height</th>
      <th>Weight</th>
      <th>DOB</th>
    </tr>
  </thead>
  <tbody>
    <%= render 'players/pitchers' %>
  </tbody>
  <thead class="catchers">
    <tr>
      <th>#</th>
      <th>Catchers</th>
      <th>Bats</th>
      <th>Throws</th>
      <th>Height</th>
      <th>Weight</th>
      <th>DOB</th>
    </tr>
  </thead>
  <tbody>
    <%= render 'players/catchers' %>
  </tbody>
  <thead class="infielders">
    <tr>
      <th>#</th>
      <th>Infielders</th>
      <th>Bats</th>
      <th>Throws</th>
      <th>Height</th>
      <th>Weight</th>
      <th>DOB</th>
    </tr>
  </thead>
  <tbody>
    <%= render 'players/infielders' %>
  </tbody>
  <thead class="outfielders">
    <tr>
      <th>#</th>
      <th>Outfielders</th>
      <th>Bats</th>
      <th>Throws</th>
      <th>Height</th>
      <th>Weight</th>
      <th>DOB</th>
    </tr>
  </thead>
  <tbody>
    <%= render 'players/outfielders' %>
  </tbody>
</table>
